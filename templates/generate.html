{% extends "base.html" %}

{% block content %}
<div class="container">
  {% for plan_str in diet_plan %}
    {% set plan = plan_str | safe | tojson | fromjson %}
    <div class="day">
      {% for meal_key, meal in plan.day.items() %}
        <div class="meal">
          <h3>{{ meal.title }}</h3>
          <p><strong>Calories:</strong> {{ meal.calories }}</p>
          <h4>Ingredients:</h4>
          <ul>
            {% for ingredient, amount in meal.ingredients.items() %}
              <li>{{ ingredient }}: {{ amount }}</li>
            {% endfor %}
          </ul>
          <p><strong>Preparation:</strong> {{ meal.preparation }}</p>
          <h4>Macros:</h4>
          <ul>
            {% for macro, value in meal.macros.items() %}
              <li>{{ macro }}: {{ value }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endfor %}
    </div>
  {% endfor %}
</div>
{% endblock %}
